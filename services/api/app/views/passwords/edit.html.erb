<%= content_tag :div, class: 'min-h-screen flex items-center justify-center bg-gray-100 px-4' do %>
  <%= content_tag :div, class: 'w-full max-w-md bg-white p-6 rounded-xl shadow-lg' do %>
    <%= content_tag :h2, 'Reset Password', class: 'text-2xl font-semibold text-center mb-6' %>

    <%= form_with url: password_path(token: params[:token]), method: :put, data: { controller: 'registration' } do |f| %>
      <%= content_tag :div, class: 'mb-4' do %>
        <%= f.label :password, 'New Password', class: 'block text-sm font-medium' %>

        <%= content_tag :div, class: 'relative' do %>
          <%= f.password_field :password,
            required: true,
            autocomplete: 'new-password',
            maxlength: 72,
            placeholder: '••••••••',
            data: {
            registration_target: 'password',
            action: 'input->registration#update'
          }
          %>
          <%= content_tag :button, 'Show', type: :button,
            class: 'absolute inset-y-0 right-0 px-3 text-sm text-gray-500 hover:cursor-pointer',
            data: { action: 'registration#toggleVisibility' } %>
        <% end %>
      <% end %>

      <%= content_tag :div, class: 'mb-6' do %>
        <%= f.label :password_confirmation, 'Confirm Password', class: 'block text-sm font-medium' %>

        <%= content_tag :div, class: 'relative' do %>
          <%= f.password_field :password_confirmation,
            required: true,
            autocomplete: 'new-password',
            placeholder: '••••••••',
            maxlength: 72,
            data: {
            registration_target: 'passwordConfirmation',
            action: 'input->registration#update'
          }
          %>
          <%= content_tag :button, 'Show', type: :button,
            class: 'absolute inset-y-0 right-0 px-3 text-sm text-gray-500 hover:cursor-pointer',
            data: { action: 'registration#toggleVisibility' } %>
        <% end %>
      <% end %>

      <%= content_tag :div, class: 'mt-3 p-3 bg-gray-50 rounded-lg border border-gray-400' do %>
        <%= content_tag :p, 'Password must include:', class: 'text-sm font-medium text-gray-700 mb-2' %>
        <%= content_tag :ul, class: 'space-y-1' do %>
          <%= content_tag :li, class: 'flex items-center gap-2 text-sm' do %>
            <%= content_tag :span, 'At least 11 characters', class: 'text-gray-500', data: { registration_target: 'checkLength' } %>
          <% end %>
          <%= content_tag :li, class: 'flex items-center gap-2 text-sm' do %>
            <%= content_tag :span, 'Contains uppercase letter (A-Z)', class: 'text-gray-500', data: { registration_target: 'checkUpper' } %>
          <% end %>
          <%= content_tag :li, class: 'flex items-center gap-2 text-sm' do %>
            <%= content_tag :span, 'Contains lowercase letter (a-z)', class: 'text-gray-500', data: { registration_target: 'checkLower' } %>
          <% end %>
          <%= content_tag :li, class: 'flex items-center gap-2 text-sm' do %>
            <%= content_tag :span, 'Contains a number (0-9)', class: 'text-gray-500', data: { registration_target: 'checkNumber' } %>
          <% end %>
          <%= content_tag :li, class: 'flex items-center gap-2 text-sm' do %>
            <%= content_tag :span, 'Contains at least one special character (e.g. !@#$%^&*)', class: 'text-gray-500', data: { registration_target: 'checkSpecial' } %>
          <% end %>
          <%= content_tag :li, class: 'flex items-center gap-2 text-sm' do %>
            <%= content_tag :span, 'Passwords match', class: 'text-gray-500', data: { registration_target: 'match' } %>
          <% end %>
        <% end %>
      <% end %>

      <%= f.submit 'Update Password', class: 'w-full py-2 px-4 bg-primary text-white rounded-lg shadow-sm hover:bg-primary-dark focus:ring-2 focus:ring-primary cursor-pointer' %>
    <% end %>
  <% end %>
<% end %>
